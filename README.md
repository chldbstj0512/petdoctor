🐾 PetDoctor - 반려동물 건강 확인용 AI 에이전트
---
### 프로젝트 개요</br>
PetDoctor는 반려동물 건강 확인용 AI 기반 RAG(Retrieval-Augmented Generation) 서비스 프로젝트입니다.</br>
반려동물의 증상 파악을 파악하고, 네이버 지식인 기반으로 수집된 8,000여개의 데이터 중 관련성 높은 답변을 참고해 신뢰성 높은 답변을 제공합니다.</br>

### 목표</br>
- 프로젝트 목표: 동물병원 내원 전, 반려동물의 상태에 대해 AI가 응급의 정도를 확인하도록 한다.</br>
- 세부 목표</br>
  (1) 수집된 데이터에서 유사한 케이스를 찾고, 원천 url을 함께 제공한다.</br>
  (2) 내부 점수 체계를 통해 해당 답변에 대한 확신도를 상, 중, 하 로 나누어 함께 제공한다.</br>
  (3) 보호자가 즉시 취해야 할 행동 가이드를 제공한다.

### Workflow</br>
사용자 질문</br>
   ↓</br>
[1] 문서 검색 (Retrieve)</br>
   ↓</br>
[2] 근거 정리 (Citation)</br>
   ↓</br>
[3] 답변 생성 (LLM)</br>
   ↓</br>
[4] 안전성 검증 (Guardrail)</br>
   ↓</br>
[5] 답변 평가 (LLM-as-Judge)</br>
   ↓</br>
[6] 후처리 (확신도 + 근거 URL)</br>
   ↓</br>
최종 응답 반환</br>

### Architecture </br>
본 프로젝트는 LangGraph 기반 RAG 아키텍처를 중심으로,</br>
멀티턴 대화 처리, 근거 기반 응답 생성, 안전성 검증, 관측(Tracing)까지 통합한 구조로 설계되었습니다.
| 요소             | 설계 의도              |
| -------------- | ------------------ |
| LangGraph      | 절차형 LLM 파이프라인의 구조화 |
| Global History | 멀티턴 문맥 유지          |
| FastAPI        | 전체 RAG 서버 백엔드     |
| Gradio         | 멀티턴 채팅 인터페이스       |
| Pinecone       | 벡터 데이터베이스        |
| GPT API        | 생성 + 평가 분리         |
| Langfuse       | 관측 가능성 확보          |

### Data </br>
본 프로젝트는 실제 반려동물 보호자가 자주 묻는 의료 질문과 전문가 답변을 기반으로 한 한국어 데이터셋을 사용합니다.</br>
모델의 신뢰성과 실사용 가능성을 높이기 위해 비전문가 응답과의 대비 구조를 포함하도록 설계되었습니다.</br>
* 출처: 네이버 지식인(Q&A)
* 수집 대상: 전문가 인증을 받은 수의사의 답변 (반려동물 의료·건강 관련 질문)
* 수집 방식: 직접 구현한 웹 크롤러를 통해 수집
* 질문–답변(Q&A) 단위로 정제
* 언어: 한국어
* 도메인: 반려동물 의료 (증상, 질병, 응급 판단, 관리 방법 등)</br>
-> 약 7,000건의 한국어 반려동물 의료 전문 Q&A

### 실행 방법 </br>
1. git clone
2. .env파일 설정: OpenAI, Pinecone, LangFuse의 key를 넣어주세요.</br>
3. Pinecone에 데이터 업서트: python3 src/ingest.py 실행해주세요.</br>
4. src에서 서버 실행: uvicorn main:app --port 8000
5. 별도의 터미널을 열어 gradio ui 프론트엔드 실행: python3 app.py</br>







